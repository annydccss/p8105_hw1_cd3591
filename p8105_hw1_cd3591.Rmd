---
title: "p8105_hw1_cd3591"
author: "Anny"
date: "2025-09-19"
output: github_document
---

# Problem 1

```{r}
# set up the packages needed
library("moderndive")
library("tidyverse")
```

```{r}
# set up the dataset needed
data("early_january_weather")

# quick look for the variables in the dataset
early_january_weather
```

**Short Description**
The early_january_weather dataset has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns.
Its variables contain: `r paste(names(early_january_weather), collapse = ", ")`. 
In specific, times range from `r min(early_january_weather$time_hour)` to `r max(early_january_weather$time_hour)`.
The mean temperature over this time period is `r mean(early_january_weather$temp, na.rm = TRUE)`.

```{r}
# change the Chinese of X-axis into English
invisible(Sys.setlocale("LC_TIME", "English"))
```

```{r}
# make a scatterplot of temp(y) vs time_hour(x)
temp_vs_time_plot = ggplot(early_january_weather,
                           aes(x = time_hour, y = temp, color = humid)) + 
  geom_point() +
  labs(x = "Time (hour)", y = "Temperature", color = "Humidity") 
temp_vs_time_plot
```

```{r}
# export the scatterplot
ggsave("temp_vs_time.png", plot = temp_vs_time_plot)
```

# Problem 2

```{r}
set.seed(1122)

# build the data frame
x_numeric = rnorm(n = 10) # a random sample of size 10 from a standard normal distribution
x_logical = x_numeric > 0 # whether the elements of the sample are greater than 0
x_character = sample(letters, 10) # a character vector of length 10
x_factor = factor(sample(c("small", "medium", "large"), 10, replace = TRUE),
                  levels = c("small","medium","large")) # a factor vector of length 10, with 3 different levels

X = data.frame(normal = x_numeric,
               logit = x_logical,
               letters = x_character,
               levels = x_factor)

# quick look for the X data frame
X
```

```{r}
# pull the numeric variable and calculate the mean
mean(X %>% pull(normal))

# pull the logical variable and calculate the mean
mean(X %>% pull(logit))

# pull the character variable and calculate the mean
mean(X %>% pull(letters))

# pull the factor variable and calculate the mean
mean(X %>% pull(levels))
```
The numeric variable (normal) and the logical variable (logit) work. This is because normal is already numeric, which is able to calculate the mean, and the R interprets False = 0 and True = 1 in the logical variable; therefore, the mean can also be calculated.

However, the character (letters) and factor (levels) variables do not work: their means cannot be calculated because they are not numeric, and such means would be meaningless.

```{r setup, results = 'hide', warning = FALSE}
# use as.numeric to the logical, character, and factor variables

as.numeric(X$logit) # the values are changed into numbers with False = 0 and True = 1
# R interprets False = 0 and True = 1
# this explains why mean(logit) works: this shows the proportion of TRUEs

as.numeric(X$letters) # warning: NAs introduced by coercion
# in R, non-numeric strings convert to NA
# Hence mean(letters) fails (there are no numeric values in the character variable)

as.numeric(X$levels) # the values are changed into numbers with small = 1, medium = 2, and large = 3
# in R, a factor is stored as an integer vector with a levels attribute
# calculating the mean of the factor variable typically meaningless, which is why mean(levels) is blocked by default.
```
